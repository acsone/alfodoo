<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">

<t t-name="FieldCmisFolder">
    <div t-att-class="'oe_form_field oe_read_only '+widget.widget_class " t-att-style="widget.attrs.style">
        <input type='hidden'
               t-att-id="widget.id_for_label"
               t-att-tabindex="widget.attrs.tabindex"
               t-att-autofocus="widget.attrs.autofocus"
               t-att-placeholder="widget.attrs.placeholder" />
        <button type="button" class="btn btn-primary cmis-create-root hidden">Create folder in DMS</button>
        <table
            t-att-id="widget.id_for_table"
            class="table table-striped table-bordered"
            cellspacing="0"
            width="100%">
          <thead>
            <tr>
                <th></th>
                <th>Name</th>
                <th>Title</th>
                <th>Description</th>
                <th>Modified</th>
                <th>Created</th>
                <th>Modifier</th>
                <th></th>
            </tr>
         </thead>
         <tfoot>
             <tr>
                <th></th>
                <th>Name</th>
                <th>Title</th>
                <th>Description</th>
                <th>Modified</th>
                <th>Created</th>
                <th>Modifier</th>
                <th></th>
            </tr>
          </tfoot>
          <tbody>
          </tbody>
        </table>
    </div>
</t>

<t t-name="CmisContentDetails">
    <div class="field_cmis_folder_details" cellpadding="5">
        <table cellpadding="5" cellspacing="0" border="0">
            <tr name="object_type_id">
                <td name="object_type_id_label" class="oe_form_group_cell oe_form_group_cell_label"><label class="oe_form_label">Object Type Id</label></td>
                <td name="object_type_id_value" class="oe_form_group_cell"><t t-esc="object.getSuccinctProperty('cmis:objectTypeId')"/></td>
            </tr>
            <tr name="object_id">
                <td name="object_id_label" class="oe_form_group_cell oe_form_group_cell_label"><label class="oe_form_label">Object Id</label></td>
                <t t-if="object.baseTypeId != 'cmis:folder'">
                    <td name="object_version_id_value" class="oe_form_group_cell"><t t-esc="object.getSuccinctProperty('cmis:versionSeriesId')"/></td>
                </t>
                <t t-if="object.baseTypeId == 'cmis:folder'">
                    <td name="object_id_value" class="oe_form_group_cell"><t t-esc="object.getSuccinctProperty('cmis:objectId')"/></td>
                </t>
            </tr>
            <tr name="name">
                <td name="name_label" class="oe_form_group_cell oe_form_group_cell_label"><label class="oe_form_label">Name</label></td>
                <td name="name_value" class="oe_form_group_cell"><t t-esc="object.getSuccinctProperty('cmis:name')"/></td>
            </tr>
            <tr name="title">
                <td name="title_label" class="oe_form_group_cell oe_form_group_cell_label"><label class="oe_form_title">Title</label></td>
                <td name="title_value" class="oe_form_group_cell"><t t-esc="object.title"/></td>
            </tr>
            <tr name="description">
                <td name="description_label" class="oe_form_group_cell oe_form_group_cell_label"><label class="oe_form_description">Description</label></td>
                <td name="description_value" class="oe_form_group_cell"><t t-esc="object.description"/></td>
            </tr>
            <t t-if="object.baseTypeId != 'cmis:folder'">
                <tr name="mimetype">
                    <td name="mimetype_label" class="oe_form_group_cell oe_form_group_cell_label"><label class="oe_form_label">MIME Type</label></td>
                    <td name="mimetype_value" class="oe_form_group_cell"><t t-esc="object.getSuccinctProperty('cmis:contentStreamMimeType')"/></td>
                </tr>
            </t>
            <t t-if="object.versionLabel">
                <tr name="version_label">
                    <td name="version_label_label" class="oe_form_group_cell oe_form_group_cell_label"><label class="oe_form_label">Version</label></td>
                    <td name="version_label_value" class="oe_form_group_cell date"><t t-esc="object.versionLabel"/></td>
                </tr>
            </t>
            <tr name="creation_date">
                <td name="creation_date_label" class="oe_form_group_cell oe_form_group_cell_label"><label class="oe_form_label">Creation Date</label></td>
                <td name="creation_date_value" class="oe_form_group_cell date"><t t-esc="object.format_cmis_timestamp(object.getSuccinctProperty('cmis:creationDate'))"/></td>
            </tr>
            <tr name="created_by">
                <td name="created_by_label" class="oe_form_group_cell oe_form_group_cell_label"><label class="oe_form_label">Created By</label></td>
                <td name="created_by_value" class="oe_form_group_cell"><t t-esc="object.getSuccinctProperty('cmis:createdBy')"/></td>
            </tr>
            <tr name="last_modified_date">
                <td name="last_modified_date_label" class="oe_form_group_cell oe_form_group_cell_label"><label class="oe_form_label">Last Modified Date</label></td>
                <td name="last_modified_date_value" class="oe_form_group_cell date"><t t-esc="object.fLastModificationDate()"/></td>
            </tr>
            <tr name="last_modified_by">
                <td name="last_modified_by_label" class="oe_form_group_cell oe_form_group_cell_label"><label class="oe_form_label">Last Modified By</label></td>
                <td name="last_modified_by_value" class="oe_form_group_cell"><t t-esc="object.getSuccinctProperty('cmis:lastModifiedBy')"/></td>
            </tr>
            <t t-if="object.baseTypeId != 'cmis:folder'">
                <tr name="is_checked_out">
                    <td name="is_checked_out_label" class="oe_form_group_cell oe_form_group_cell_label"><label class="oe_form_label">Is Checked Out</label></td>
                     <t t-set="checked" t-value="object.getSuccinctProperty('cmis:isVersionSeriesCheckedOut')? 'checked' : null"/>
                    <td name="is_checked_out_value" class="oe_form_group_cell"><div><input type="checkbox" t-att-checked="checked" disabled='true' style="vertical-align: middle;"/><t t-if='checked'><span style="vertical-align: middle;"> <label>By:</label>
                        <t t-esc="object.getSuccinctProperty('cmis:versionSeriesCheckedOutBy')"/></span></t></div>
                    </td>
                </tr>
            </t>
        </table>
    </div>
</t>

<t t-name="CmisRootContentActions">
    <div class="field_cmis_folder_root_content_actions btn-toolbar">
        <button type="button"
                class="btn btn-default btn-sm root-content-action-refresh"
                data-toggle="tooltip"
                title="Refresh content table"
                aria-label="Refresh content table">
             <span class="fa fa-refresh"></span>
         </button>
         <span class="btn-separator"></span>
       <div class="btn-group">
         <button type="button"
                 t-if="canCreateFolder"
                 t-attf-class="btn btn-default btn-sm root-content-action-new-folder"
                 data-toggle="tooltip"
                 title="Create folder"
                 aria-label="Create folder">
             <span class="fa fa-folder-o"></span>
         </button>
         <button type="button"
                 t-if="canCreateDocument"
                 t-attf-class="btn btn-default btn-sm root-content-action-new-doc"
                 data-toggle="tooltip"
                 title="Add document"
                 aria-label="Add document">
             <span class="fa fa-file-o"></span>
         </button>
           <button type="button"
                 t-if="object.clipboardAction == 'copy' &amp; canCreateDocument"
                 t-attf-class="btn btn-default btn-sm root-content-action-copy-paste"
                 data-toggle="tooltip"
                 title="Paste"
                 aria-label="Paste">
             <span class="fa fa-paste"></span>
         </button>
           <button type="button"
                 t-if="object.clipboardAction == 'cut' &amp; canCreateDocument"
                 t-attf-class="btn btn-default btn-sm root-content-action-cut-paste"
                 data-toggle="tooltip"
                 title="Paste"
                 aria-label="Paste">
             <span class="fa fa-paste"></span>
         </button>
       </div>
    </div>
</t>

<t t-name="CmisContentActions">
    <div class="field_cmis_folder_content_actions">
    <div class="btn-group pull-right" role="group">
        <t t-if='canGetContentStream'>
          <button type="button"
             class="btn btn-default btn-xs content-action-download"
             aria-label="Download"
             data-toggle="tooltip"
             title="Download">
              <span class="fa fa-download"></span>
          </button>
        </t>
        <t t-if='canPreview'>
          <button type="button"
              class="btn btn-default btn-xs content-action-preview"
              data-toggle="tooltip"
              title="Preview"
              aria-label="Preview">
              <span class="fa fa-eye"></span>
          </button>
        </t>
            <button type="button"
               class="btn btn-default btn-xs dropdown-toggle fa fa-align-justify cmis-dropdown-more-actions"
               t-att-id="object.getSuccinctProperty('cmis:objectId')"
               aria-label="More actions"
               data-toggle="dropdown"
               title="More actions"
               aria-haspopup="true"
               aria-expanded="true">
            </button>
            <ul class="dropdown-menu btn-block" t-att-aria-labelledby="object.getSuccinctProperty('cmis:objectId')">
                <li t-if='canGetProperties'><a class='content-action-get-properties' href="#">View Details</a></li>
                <li t-if='canUpdateProperties'><a class='content-action-rename' href="#">Rename</a></li>
                <li t-if='!isFolder'><a class='content-action-copy' href="#"><i class="fa fa-copy"></i> Copy</a></li>
                <li t-if='canMoveObject'><a class='content-action-cut' href="#"><i class="fa fa-cut"></i> Cut</a></li>
                <li t-if='canCreateDocument &amp; object.parent.clipboardAction == "cut"'><a class='content-action-cut-paste' href="#"><i class="fa fa-paste"></i> Paste</a></li>
                <li t-if='canCreateDocument &amp; object.parent.clipboardAction == "copy"'><a class='content-action-copy-paste' href="#"><i class="fa fa-paste"></i> Paste</a></li>
                <li t-if='canSetContentStream and !canCheckIn'><a class='content-action-set-content-stream' href="#">Update</a></li>
                <!-- li t-if='canGetAllVersions'><a class='content-action-get-all-versions' href="#">Check Versions</a></li -->
                <li t-if='canCheckIn or canCancelCheckOut or canCheckOut' role="separator" class="divider"></li>
                <li t-if='canCheckIn'><a class='content-action-checkin' href="#">Import new version</a></li>
                <li t-if='canCancelCheckOut'><a class='content-action-cancel-checkout' href="#">Cancel Edit</a></li>
                <li t-if='canCheckOut'><a class='content-action-checkout' href="#">Offline Edit</a></li>
                <t t-if='canDeleteObject'>
                    <li role="separator" class="divider"></li>
                    <li><a class='content-action-delete-object' href="#">Delete</a></li>
                </t>
            </ul>
        </div>
    </div>

</t>

<t t-name='CmisUpdateContentStreamView'>
    <form class="form-horizontal cmis_update_content_stream" role="form" t-att-id="id">
        <div class="form-group mb0">
            <div class="col-sm-12">
            <div class="input-group">
                <span class="input-group-btn">
                    <span class="btn btn-primary btn-file">
                        Browse&amp;hellip; <input type="file" required="required"/>
                    </span>
                </span>
                <input type="text" class="form-control" readonly='1'/>
            </div>
            </div>
        </div>
    </form>
</t>

<t t-name='CmisCheckinView'>
    <form class="form-horizontal cmis_update_content_stream" role="form" t-att-id="id">
        <div class="form-group mb0">
            <div class="col-sm-12">
                <div class="input-group">
                    <span class="input-group-btn">
                        <span class="btn btn-primary btn-file">
                            Browse&amp;hellip; <input type="file" required="required"/>
                        </span>
                    </span>
                    <input type="text" class="form-control" readonly='1'/>
                </div>
            </div>
        </div>
        <div class="form-group mb0">
            <div class="col-sm-12">
                <div class="form-check">
                  <label class="form-check-label">
                    <input class="form-check-input" type="radio" name="version-radios" id="minor-radio" value="minor" checked="1"/>
                      <span id="minor-label">Create new minor version</span>
                  </label>
                </div>
                <div class="form-check">
                  <label class="form-check-label">
                    <input class="form-check-input" type="radio" name="version-radios" id="major-radio" value="major"/>
                    <span id="major-label">Create a new major version</span>
                  </label>
                </div>
            </div>
        </div>
        <div class="form-group mb0">
            <div class="col-sm-12">
                <label for="comment">Comment</label>
                <textarea class="form-control" id="comment" rows="3"/>
            </div>
        </div>
    </form>
</t>

<t t-name='CmisDuplicateDocumentResolver'>
    <form class="form-horizontal cmis_duplicate_document_resolver" role="form" t-att-id="id">
        <div class="form-group mb0">
            <div class="col-sm-12">
                <div class="form-group row mb0">
                    <div class="form-check col-sm-3">
                        <input checked="1"  class="form-check-input" id="rename-radios" name="duplicate-radios" value="rename" type="radio"
                            data-toggle="collapse" data-target=".collaps_comment.in"/>
                        <label class="form-check-label" for="rename-radio">
                           Rename as
                        </label>
                    </div>
                    <div class="col-sm-6">
                        <input class="o_form_input" type="text" id="new-filename"/>
                    </div>
                </div>
                <div class="form-group row mb0">
                    <div class="form-check col-sm-3">
                        <input class="form-check-input" id="new-version-radio" name="duplicate-radios" value="new-version" type="radio"
                               data-toggle="collapse" data-target=".collaps_comment:not(.in)"/>
                        <label class="form-check-label" for="new-version-radios">
                           Create a new version
                        </label>

                    </div>
                    <div class="col-sm-3">
                        <select class="o_form_input" id="new-version-type">
                            <option value="minor">Minor</option>
                            <option value="major">Major</option>
                        </select>
                    </div>
                </div>
                <div class="form-group row mb0 collaps_comment collapse">
                    <div class="col-sm-12">
                        <label for="comment">Comment</label>
                        <textarea class="form-control" id="comment" rows="3"/>
                    </div>
                </div>

            </div>
        </div>
    </form>
</t>

<t t-name='CmisRenameContentDialog'>
    <form class="form-horizontal cmis_rename_context" role="form" t-att-id="id">
        <div class="form-group mb0">
            <label for="page-name" class="col-sm-3 control-label">
                New name:
            </label>
            <div class="col-sm-9">
                <input type="text" id="new-name" class="form-control" autofocus="autofocus" required="required"/>
            </div>
        </div>
    </form>
</t>

<t t-name='CmisCreateDocumentDialog'>
    <form class="form-horizontal cmis_create_document" role="form" t-att-id="id">
        <div class="form-group mb0">
            <div class="col-sm-12">
            <div class="input-group">
                <span class="input-group-btn">
                    <span class="btn btn-primary btn-file" autofocus="autofocus">
                        Browse&amp;hellip; <input type="file" required="required" multiple="true"/>
                    </span>
                </span>
                <input type="text" class="form-control" readonly='1'/>
            </div>
            </div>
        </div>
    </form>
</t>
<t t-name='CmisAddDocumentDialog'>
    <form class="form-horizontal cmis_create_document" role="form" t-att-id="id">
        <div class="form-group mb0">
            <div class="col-sm-12">
            <div class="input-group">
                <span class="input-group-btn">
                    <span class="btn btn-primary btn-file" autofocus="autofocus">
                        Browse&amp;hellip; <input type="file" required="required" multiple="false"/>
                    </span>
                </span>
                <input type="text" class="form-control" readonly='1'/>
            </div>
            </div>
        </div>
    </form>
</t>

<t t-name='CmisLinkDocumentDialog'>
<form class="form-horizontal cmis_link_document" role="form">
    <div class="form-group">
        <div class="col-sm-12">
            <div class="input-group">
                <span class="input-group-text col-sm-8">
                    <label for="identifier">Identifier</label>
                    <input class="ml-1" id="identifier" type="text"/>
                </span>
            </div>
        </div>
    </div>
    <div class="form-group" t-if="widget.search_enabled">
        <div class="col-sm-12">
            <div class="input-group">
                  <div class="input-group-prepend">
                      <span class="input-group-text">
                          <label for="search">Search based on document name</label>
                      </span>

                  </div>
                <input class="ml-1 form-control search-input" type="text"/>
                  <div class="input-group-append">
                    <button class="btn btn-outline-secondary btn-search" type="button"><i class="fa fa-search"/>Search</button>
                  </div>
            </div>
        </div>
        <div class="col-sm-12 document-list">

        </div>
    </div>
</form>
</t>

<t t-name="CmisLinkDocumentDialogDocumentList">
    <table
    class="table table-striped table-bordered document-list-table"
    cellspacing="0"
    width="100%">
      <thead>
        <tr>
            <th>Name</th>
            <th>Description</th>
            <th>Created</th>
<!--            <th>Created by</th>-->
            <th>Modified</th>
<!--            <th>Modified by</th>-->
            <th>Version</th>
            <th></th>
        </tr>
     </thead>
      <tbody>
          <tr t-foreach="widget.search_results" t-as="item" class="search-result-row"
              t-att-data-cmis-id="item.getSuccinctProperty('cmis:versionSeriesId')">
              <td><t t-esc="item.getSuccinctProperty('cmis:name')"/></td>
              <td><t t-esc="item.getSuccinctProperty('cmis:description')"/></td>
              <td><t t-esc="item.fCreationDate()"/></td>
<!--              <td><t t-esc="item.getSuccinctProperty('cmis:createdBy')"/></td>-->
              <td><t t-esc="item.fLastModificationDate()"/></td>
<!--              <td><t t-esc="item.getSuccinctProperty('cmis:lastModifiedBy')"/></td>-->
              <td><t t-esc="item.getSuccinctProperty('cmis:versionLabel')"/></td>
              <td><button class="btn-primary btn link-button"><i class="fa fa-link link-action"/></button></td>
          </tr>
          <tr t-if="widget.search_results.length === 0">
              <td colspan="6">
                  No document found.
              </td>
          </tr>
      </tbody>
    </table>
</t>

<t t-name='CmisCreateFolderDialog'>
    <form class="form-horizontal" role="form" t-att-id="id">
        <div class="form-group mb0">
            <label for="page-name" class="col-sm-3 control-label">
                Folder Name:
            </label>
            <div class="col-sm-9">
                <input type="text" class="form-control" autofocus="autofocus" required="required"/>
            </div>
        </div>
    </form>
</t>
<t t-name="CMISSession.warning">
    <div class="o_dialog_warning">
        <p><t t-esc="error.message"/></p>
        <t t-if="error.stacktrace">
            <h6><a data-toggle="collapse" data-parent="#accordion" href="#stacktrace">Click here to see more technical info</a></h6>
            <div id="stacktrace" class="col-md-12 panel-collapse collapse">
                <div>
                    <t t-raw="error.stacktrace"/>
                </div>
            </div>
        </t>
    </div>
</t>

    <t t-name='CmisVersionsHistoryDialog'>
    <div class="cmis-document-history">
        <div class="versions border-top container">
            <t t-set="versions" t-value="widget.versions"/>
                <div class="cmis-version-row row border border-top-0">
                    <div class="col-sm-1">Version</div>
                    <div class="col-sm-4">Name</div>
                    <div class="col-sm-4">Actions</div>
                </div>
                <div t-foreach="versions" t-as="version">
                    <div class="cmis-version-row row border border-top-0">
                        <div class="col-sm-1 version-text" t-esc="version.versionLabel"/>
                        <div class="col-sm-4 version-text" t-esc="version.name"/>
                        <div class="col-sm-4" t-if="version.allowableActions.canGetContentStream">
                            <button type="button"
                                    t-att-id="'download_' + version.objectId"
                                    t-att-value = "version.objectId"
                                    class="btn btn-default btn-xs version-download px-2"
                                    data-toggle="tooltip"
                                    title="Download"
                                    aria-label="Preview">
                                    <span t-att-value="version.objectId" class="fa fa fa-download"></span>
                            </button>
                            <button type="button"
                                    t-att-id="'preview_' + version.objectId"
                                    t-att-value = "version.objectId"
                                    class="btn btn-default btn-xs version-preview px-2"
                                    data-toggle="tooltip"
                                    title="Preview"
                                    aria-label="Preview">
                                    <span t-att-value="version.objectId" class="fa fa-eye"></span>
                            </button>
                        </div>
                    </div>
            </div>
        </div>
    </div>
</t>

<t t-name="FieldCmisDocument">
    <div t-att-class="'oe_form_field ' + widget.widget_class" t-att-style="widget.attrs.style">
        <t t-call="CmisDocumentWaiting" />
    </div>
</t>

<t t-name="CmisDocumentWaiting">
    <div class="cmis-doc-waiting">
        <span>Loading cmis document...</span>
        <span class="fa fa-spinner fa-spin"></span>
    </div>
</t>

<t t-name="CmisDocumentReadOnly">
    <div class="cmis-doc-readonly">
        <span>
            <t t-raw="object.documentActions()" />
        </span>
        <span class="file-name o_hidden" t-raw="object.fName()"/>
        <span class="document-details"/>
    </div>
</t>

<t t-name="CmisDocumentAdd">
    <div class="cmis-doc-add">
        <div class="px-2">
            <span class="fa fa-plus-circle mr-2 content-action-add"/>
            <small class="text-muted">Add a document</small>
        </div>
    </div>
</t>

<t t-name="CmisDocumentLink">
<div class="cmis-doc-link">
    <div class="px-2">
        <span class="fa fa-solid fa-link mr-2 content-action-link"/>
        <small class="text-muted">Link with an existing document</small>
    </div>
</div>
</t>

<t t-name="CmisNoDocumentActions">
    <t t-call="CmisDocumentAdd"/>
    <t t-call="CmisDocumentLink"/>
</t>

<t t-name="CmisDocumentActions">
    <span class="field_cmis_document_actions">
        <div class="btn-group" role="group">
            <t t-call="cmisDocumentDownloadButton" />
            <t t-call="cmisDocumentPreviewButton" />
            <t t-call="cmisContextDropdown" />
        </div>
    </span>
</t>

<t t-name="cmisDocumentDownloadButton">
    <t t-if='canGetContentStream'>
        <button type="button"
            class="btn btn-default btn-xs content-action-download px-2"
            aria-label="Download"
            data-toggle="tooltip"
            title="Download">
            <span class="fa fa-download"></span>
        </button>
    </t>
</t>

<t t-name="cmisDocumentPreviewButton">
    <t t-if='canPreview'>
        <button type="button"
            class="btn btn-default btn-xs content-action-preview px-2 "
            data-toggle="tooltip"
            title="Preview"
            aria-label="Preview">
            <span class="fa fa-eye"></span>
        </button>
    </t>
</t>

<t t-name="cmisDocumentContentDetails">
    <div>
        <div class="toggle-document-details pull-right">
            <i class="fa fa-times-circle p-2"></i>
        </div>
        <t t-call="CmisContentDetails"/>
    </div>
</t>

<t t-name="cmisContextDropdown">
    <div class="dropdown context-actions-dropdown">
        <button type="button"
            class="btn btn-default btn-xs dropdown-toggle fa fa-align-justify cmis-dropdown-more-actions px-2 "
            t-att-id="object.getSuccinctProperty('cmis:objectId')"
            aria-label="More actions"
            data-toggle="dropdown"
            title="More actions"
            aria-haspopup="true"
            aria-expanded="true">
        </button>
        <ul class="dropdown-menu btn-block" t-att-aria-labelledby="object.getSuccinctProperty('cmis:objectId')" overflow-working="0">
            <li t-if='canGetProperties'><a class='content-action-get-properties' href="#">View Details</a></li>
            <li t-if='canUpdateProperties'><a class='content-action-rename' href="#">Rename</a></li>
            <li t-if='canUpdateProperties'><a class='content-action-checkin' href="#">Import new version</a></li>
            <li t-if="canGetContentStream"><a class='content-action-history' href="#">Show document history</a></li>
            <li t-if='object.isCheckedOut' role="separator" class="divider"></li>
            <li t-if='object.isCheckedOut'><a class='content-action-cancel-checkout' href="#">Cancel checkout</a></li>
        </ul>
    </div>
</t>
</templates>
